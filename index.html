<!doctype html>
<html>
<title>City University - RESTful API test</title>

<head>
<link rel="stylesheet" href="/CityRESTAPI/css/style.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
<h1>City University - RESTful API test</h1>

<script>
  // fetch 10 records from the photos album, sort by id and ascending order
  fetch('https://jsonplaceholder.typicode.com/photos?_page=1&_limit=10&_sort=id&_order=asc')
    .then(response => response.json())
    .then(function (data) {
  // loop through each record in photos album and display html list
  let photosAPI__container = '';
  data.forEach((photos) => {
    const { id, albumId, title, url, thumbnailUrl } = photos
    photosAPI__container +=
        `<div class="photosAPI__listing">
           <a href="${url}"><img src="${thumbnailUrl}" class="photosAPI__listing-img">
              <div class="photosAPI__listing-img--zoom"><img src="/CityRESTAPI/images/zoom.svg"></div>
           </a>
           <div class="photosAPI__listing-id-bg">
              <p class="photosAPI__listing-id">${id}</p>
           </div>
           <p class="photosAPI__listing-title">${title}</p>
           <p class="photosAPI__listing-album">Album: ${albumId}</p>
          </div>`;
            document.getElementById('photosAPI__container').innerHTML = photosAPI__container;
        });
    })

    // add some error trapping that can explain in english where the error occurred
    .catch(function(error) {
      console.log('Error getting the requested data: \n', error);
      document.getElementById('photosAPI__container').innerHTML = "Error getting the requested data";
    });

</script>

<!-- display result of function above -->
<div id="photosAPI__container">
</div>

</body>

</html>
